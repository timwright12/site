<p><strong><a href="http://www.csskarma.com/lab/html5/history">Here's the demo</a></strong> for those who like to jump right in.</p>
<p>The URL is an important piece of user experience in any Web site or application. We like using, what we call &quot;talking URLs&quot; so they're easy to say and remember, like <a href="http://clearleft.com/is/richardrutter/">clearleft.com/is/richardrutter</a> (one of the best all time).</p>
<p>But as we build complex ajax and javascript-base apps with wild interfaces, we sometimes forget about the URL and just how important it is.</p>
<p>The HTML 5 History API aims to deal with that problem by letting you access the address bar directly and create <em>pushes</em> to change the URL and inject (same domain) history into the browser.</p>
<h3 id="feature-detection" tabindex="-1">Feature detection <a class="direct-link" href="#feature-detection" aria-hidden="true">#</a></h3>
<p>Step 1 to using any of the new HTML 5 goodies is testing for support. The History API works where you would expect it to (Gecko &amp; Webkit, not sure about IE9). Testing for support is pretty basic:</p>
<h4 id="regular-js" tabindex="-1">Regular JS <a class="direct-link" href="#regular-js" aria-hidden="true">#</a></h4>
<pre><code>if (typeof history.pushState !== &quot;undefined&quot;) {
    //history api is supported
}
</code></pre>
<h4 id="with-modernizr" tabindex="-1">With modernizr <a class="direct-link" href="#with-modernizr" aria-hidden="true">#</a></h4>
<pre><code>if (Modernizr.history) {
     // history api is supported
}
</code></pre>
<h3 id="the-history-push" tabindex="-1">The History Push <a class="direct-link" href="#the-history-push" aria-hidden="true">#</a></h3>
<pre><code>if (typeof history.pushState !== &quot;undefined&quot;) {
     history.pushState([state to track], '[page title]', '[pushed URL]');
}
</code></pre>
<h4 id="the-pieces" tabindex="-1">The pieces <a class="direct-link" href="#the-pieces" aria-hidden="true">#</a></h4>
<p><strong>State</strong>: This data will be passed into the &quot;popstate&quot;, which deal with things like when the user click the back button.</p>
<p><strong>Page title</strong>: This is the title that you see when you click and hold the back button (the menu that pops up) - not totally supported yet</p>
<p><strong>Pushed URL</strong>: this is the url you want to display in the address bar. It's only limitation is that is has to be in the same domain (security).</p>
<h4 id="worked-out-history-push" tabindex="-1">Worked out history push <a class="direct-link" href="#worked-out-history-push" aria-hidden="true">#</a></h4>
<pre><code>if (typeof history.pushState !== &quot;undefined&quot;) {
     history.pushState(null, 'I love dogs', 'dogsrock.html');
}
</code></pre>
<p><strong><a href="http://www.csskarma.com/lab/html5/history">In this demo</a></strong>, you can see the URL changing but the page not reloading.</p>
<p>This is basically a slimmed down version of the <a href="http://diveintohtml5.org/history.html">Dive in HTML5</a> documentation with some modifications to the history code, I slimmed down the detection a bit.</p>
<p>As usual, any comments, questions, criticisms are welcome. I left the back button broken so you can see it actually working.</p>
