<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Required input fields with JS fallback</title>
    <meta name="description" content="I am writing about my experiences as a naval navel-gazer.">
    <link rel="stylesheet" href="/site/css/index.css">
    <link rel="alternate" href="/site/feed/feed.xml" type="application/atom+xml" title="Tim Wright">
    <link rel="alternate" href="/site/feed/feed.json" type="application/json" title="Tim Wright">

    <script>

		WebFontConfig = {
			google: {
				families: ['Open Sans:400,700', 'Judson:400,700']
			}
		};

		(function(d) {
			var wf = d.createElement('script'), s = d.scripts[0];
			wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js';
			wf.async = true;
			s.parentNode.insertBefore(wf, s);
		})(document);

		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-875557-1', 'auto');
		ga('send', 'pageview');

	</script>

	<noscript>
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,700;1,400;1,700&Judson:ital,wght@0,400;0,700;1,400&display=swap" />
	</noscript>

  </head>
  <body>

  <header role="banner" id="banner">

    <h1 class="logo" itemscope="" itemtype="http://schema.org/Organization">
      <a href="/" itemprop="url">Tim Wright</a>
    </h1>

    <nav role="navigation" id="nav">
      <ul>
          <li class="nav-item"><a href="/site/blog/">Blog</a></li>
          <li class="nav-item"><a href="/site/work/">Work</a></li>
        <li class="nav-item"><a href="mailto:hello@timwright.org?subject=An Interesting Message from timwright.org">Contact</a></li>
      </ul>
    </nav>
  </header>

    <main class="tmpl-post" id="main">
      
<div class="contain-wide">
  <div class="gutter">

<time datetime="2011-06-15">15 Jun 2011</time>

<h1>Required input fields with JS fallback</h1>

<p><a href="lab/html5/input.required/">View the demo</a></p>
<p>One of my favorite features of the HTML 5 forms is the &quot;required&quot; attribute. But unfortunately, support isn't totally there yet. So we need to create fallbacks.</p>
<p>It works in the modern browsers you'd expect it to (FF4, Safari, Opera, etc) but in older browsers, form validation isn't something you can really ignore (like border-radius) or you'll get flooded with all sorts of nastiness and spam. Sure we should be doing it at the server level anyway, but you still want that client side layer to add a bit of UX charm to your form.</p>
<p>We can still use the new required attribute effectively by creating a JavaScript fallback for unsupported browsers.</p>
<p>In this <a href="/lab/html5/input.required/">demo</a>, I'm using:</p>
<ul>
<li><a href="http://jquery.com/">jQuery</a></li>
<li><a href="http://bassistance.de/jquery-plugins/jquery-plugin-validation/">jQuery Validation</a></li>
<li><a href="http://www.modernizr.com/">Modernizr</a></li>
</ul>
<h3 id="the-html" tabindex="-1">The HTML <a class="direct-link" href="#the-html" aria-hidden="true">#</a></h3>
<p>The HTML is very basic, just an HTML5 form, with 2 inputs: text (name), and email (email). I'm using 2 form types to show how we add classes to support the <a href="http://bassistance.de/jquery-plugins/jquery-plugin-validation/">jQuery Validation</a>. You can, of course, use whatever validation method you'd like.</p>
<pre><code>&lt;form action=&quot;&quot; method=&quot;post&quot;&gt;
&lt;label for=&quot;name&quot;&gt;Name&lt;/label&gt;
&lt;input type=&quot;text&quot; name=&quot;name&quot; id=&quot;name&quot; required&gt;

&lt;label for=&quot;email&quot;&gt;Email&lt;/label&gt;
&lt;input type=&quot;email&quot; name=&quot;email&quot; id=&quot;email&quot; required&gt;

&lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;
&lt;/form&gt;
</code></pre>
<h3 id="the-javascript" tabindex="-1">The JavaScript <a class="direct-link" href="#the-javascript" aria-hidden="true">#</a></h3>
<p>With the JavaScript, we first make the check for &quot;required&quot; support. I'm using <a href="http://www.modernizr.com/">Modernizr</a> for this.</p>
<p>I left an open block in the if statement in case you want to do something else in there, but you could remove the <code>else</code> and replace the first line with it's inverse <code>if (!Modernizr.input.required) {</code> if you don't plan on using it for anything.</p>
<p>If &quot;required&quot; isn't supported I'm running through all the form inputs on the page with a &quot;required&quot; attribute, adding a class of &quot;required&quot;, and the type of input (email, text, etc.). Setting the input type helps you use the validation plugin a little better and can also aid in styling for IE6.</p>
<p><strong>NOTE:</strong> I'm using JavaScript's native getAttribute() method to grab the input type because jQuery's <code>attr('type')</code> returns &quot;text&quot; on the &quot;email&quot; input for some reason.</p>
<p>After all the appropriate classes are added, we can call the plugin. I'm doing it on each form, but targeting one specific form by it's ID value is more traditional.</p>
<pre><code>(function ($) {

	// check for &quot;required&quot; input support with modernizr
	if (Modernizr.input.required) {

		// do something else

	} else {

		// parse through each required input
		$('form').find('input[required]').each(function () {

			// add a class to each required field with &quot;required&quot; &amp; the input type
			// using the normal &quot;getAttribute&quot; method because jQuery's attr always returns &quot;text&quot;
			$(this).attr('class', 'required ' + this.getAttribute('type')).removeAttr('required');

		});

		// call jQuery validate plugin on each form
		$('form').each(function () {
			$(this).validate();
		});

	} // if required supported

}(jQuery));
</code></pre>
<p>Older (unsupported) browsers will use the Validation plugin, and modern browsers will use the built-in HTML 5 validation.</p>


</div></div>

    </main>

    <!-- Current page: /site/posts/required-input-fallback/ -->
  </body>
</html>
